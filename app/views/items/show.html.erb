<div class="container spacing" data-controller="show">
  <%= image_tag(@item.image_url, alt: "a nice sports item", class: "show-image mt-3 rounded-4") %>
    <div class="header-show m-2">
      <h2><%= @item.name %></h2>
      <p><strong><%= @item.price %></strong>â‚¬ week</p>
    </div>
    <div class="info mb-3 mt-3">
      <p><%= @item.description %></p>
      <hr style="width:100%;text-align:left;margin-left:0">
      <% if current_user == @item.user %>
        <p>Leased by <strong>You</strong></p>
      <% else %>
        <p>Leased by <strong><%= "#{@item.user.first_name.capitalize} #{@item.user.last_name.capitalize}" %></strong></p>
      <% end %>
      <p style="margin-top: -15px; margin-bottom: 0"><i class="fa-solid fa-location-dot"></i> <strong><%= @item.address %></strong>&nbsp;<span class="dropdown turn" style="margin-top: 2px; position: absolute;" data-action="click->show#toggle" data-show-target="button"><i class="fa-solid fa-angle-down"></i></span></p>
      <div class="map"
      data-controller="map"
      data-show-target="map"
      data-map-markers-value="<%= @markers.to_json %>"
      data-map-api-key-value="<%= ENV['MAPBOX_API_KEY'] %>"></div>
    <hr style="width:100%;text-align:left;margin-left:0">
    </div>
  <%# New Reservation %>
  <% unless current_user == @item.user %>
    <%= simple_form_for([@item, @rental]) do |f| %>
        <%= f.input :start_date, as: :date, html5: true %>
        <%= f.input :end_date, as: :date, html5: true %>
        <%= f.submit "Book", class:"btn-create" %>
    <% end %>
  <% end %>

</div>

<%= render "pages/shared/navbar" %>
